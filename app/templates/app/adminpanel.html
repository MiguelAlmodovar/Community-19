{% extends "app/base_site.html" %}

{% block title %} Admin Panel {% endblock title %}

{% block stylesheets %}
  {{ block.super }}
{% endblock stylesheets %}

{% block content %}
    <div class="right_col" role="main">
      <div class="">
        <div class="page-title">
          <div class="title_left">
            <h3>Painel de Adminstração</h3>
          </div>

          
        

        <div class="clearfix"></div>

        <div class="row">
            {% for message in messages %}
            <div class="alert alert-{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}danger{%else%}success{% endif %} alert-dismissible fade in" role="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
              </button>
              {{ message }}
            </div>
            {% endfor %}
          <br>
            <div class="col-md-6 col-sm-6 col-xs-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Posts reportados</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Nome</th>
                        <th>Conteúdo do Post</th>
                        <th>Ações</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for post in posts %}
                      <tr>
                        <td>{{post.author.first_name}} {{post.author.last_name}}</td>
                        <td>{{post.content}}</td>
                        <td> <a href="{% url 'post' post.id %}"><i class="fa fa-mouse-pointer"></i></a>
                          <a href="{% url 'reviewpost' post.id %}"><i class="fa fa-check"></i></a> 
                          <a href="{% url 'deletepost' post.id %}"><i class="fa fa-close"></i></a>
                          <a href="{% url 'deleteuser' post.author.id %}"><i class="fa fa-ban"></i></a></td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
    
                </div>
              </div>
            </div>
    
            <div class="col-md-6 col-sm-6 col-xs-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Anúncios Reportados</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
    
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th>Nome</th>
                            <th>Conteúdo do Anúncio</th>
                            <th>Ações</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for announcement in announcements %}
                          <tr>
                            <td>{{announcement.author.first_name}} {{announcement.author.last_name}}</td>
                            <td>{{announcement.content}}</td>
                            <td> <a href="{% url 'announcement' announcement.id %}"><i class="fa fa-mouse-pointer"></i></a>
                              <a href="{% url 'reviewa' announcement.id %}"><i class="fa fa-check"></i></a> 
                              <a href="{% url 'deletea' announcement.id %}"><i class="fa fa-close"></i></a>
                              <a href="{% url 'deleteuser' announcement.author.id %}"><i class="fa fa-ban"></i></a></td>
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                </div>
              </div>
            </div>
            <a href="{% url 'users' %}">Ver utilizadores</a>
            <div class="clearfix"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
{% endblock content %}

{% block javascripts %}
  {{ block.super }}
{% endblock javascripts %}

